<!DOCTYPE html>
<html>

<body>
    <script>
        "use strict";
        var dataService = function () {

            var service = {};

            service.getDataAsync = function () {
                var p = new Promise(function (resolve, reject) {
                    var r = Math.random() * 10;
                    if (r > 5) {
                        resolve(r);
                    }
                    else {
                        reject("error occured");
                    }
                   
                });
                return p;
            }
            return service;
        }();

        
        function fnSuccess(d){
            console.log(d);
        }

        function fnError(d){
            console.log(d)
        }

        dataService.getDataAsync().then(fnSuccess).then(function(){
            console.log("chained to earlier promise");
        }).then(function(){
            console.log("one more chain");
        }).catch(fnError);
        
        console.log("end of script");

    </script>

</body>

</html>